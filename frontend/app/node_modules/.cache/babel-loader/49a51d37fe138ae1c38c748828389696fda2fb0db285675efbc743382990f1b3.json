{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\theev\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\pizza_site\\\\frontend\\\\app\\\\src\\\\components\\\\PizzaForm.js\",\n  _s = $RefreshSig$();\n// src/components/PizzaForm.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './PizzaForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PizzaForm({\n  pizza,\n  onPizzaUpdated\n}) {\n  _s();\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [price, setPrice] = useState('');\n  const [imageUrl, setImageUrl] = useState('');\n  useEffect(() => {\n    if (pizza) {\n      setName(pizza.name);\n      setDescription(pizza.description);\n      setPrice(pizza.price);\n      setImageUrl(pizza.image_url);\n    }\n  }, [pizza]);\n\n  // src/components/PizzaForm.js\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (pizza) {\n      // Если редактируется пицца, выполняем PUT-запрос\n      axios.put(`http://127.0.0.1:5000/pizzas/${pizza.id}`, {\n        name: name,\n        description: description,\n        price: parseFloat(price),\n        image_url: imageUrl\n      }).then(response => {\n        console.log(response.data);\n        if (onPizzaUpdated) onPizzaUpdated(); // Сбрасываем выбранную пиццу после обновления\n      }).catch(error => console.error('Error updating pizza:', error));\n    } else {\n      // Если добавляется новая пицца, выполняем POST-запрос\n      axios.post('http://127.0.0.1:5000/pizzas', {\n        name: name,\n        description: description,\n        price: parseFloat(price),\n        image_url: imageUrl\n      }).then(response => {\n        console.log(response.data);\n        setName('');\n        setDescription('');\n        setPrice('');\n        setImageUrl('');\n      }).catch(error => console.error('Error adding pizza:', error));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"pizza-form\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: pizza ? 'Изменить Пиццу' : 'Добавить Пиццу'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0438\\u0446\\u0446\\u044B\",\n      value: name,\n      onChange: e => setName(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",\n      value: description,\n      onChange: e => setDescription(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      placeholder: \"\\u0426\\u0435\\u043D\\u0430\",\n      value: price,\n      onChange: e => setPrice(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"URL \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u044F\",\n      value: imageUrl,\n      onChange: e => setImageUrl(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: pizza ? 'Обновить Пиццу' : 'Добавить Пиццу'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(PizzaForm, \"tUOFLlKsz4tIfne9KXrF/7kCcYY=\");\n_c = PizzaForm;\nexport default PizzaForm;\nvar _c;\n$RefreshReg$(_c, \"PizzaForm\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","PizzaForm","pizza","onPizzaUpdated","_s","name","setName","description","setDescription","price","setPrice","imageUrl","setImageUrl","image_url","handleSubmit","e","preventDefault","put","id","parseFloat","then","response","console","log","data","catch","error","post","className","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","target","required","_c","$RefreshReg$"],"sources":["C:/Users/theev/OneDrive/Рабочий стол/pizza_site/frontend/app/src/components/PizzaForm.js"],"sourcesContent":["// src/components/PizzaForm.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './PizzaForm.css';\r\n\r\nfunction PizzaForm({ pizza, onPizzaUpdated }) {\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [imageUrl, setImageUrl] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (pizza) {\r\n      setName(pizza.name);\r\n      setDescription(pizza.description);\r\n      setPrice(pizza.price);\r\n      setImageUrl(pizza.image_url);\r\n    }\r\n  }, [pizza]);\r\n\r\n    // src/components/PizzaForm.js\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n\r\n      if (pizza) {\r\n        // Если редактируется пицца, выполняем PUT-запрос\r\n        axios.put(`http://127.0.0.1:5000/pizzas/${pizza.id}`, {\r\n          name: name,\r\n          description: description,\r\n          price: parseFloat(price),\r\n          image_url: imageUrl,\r\n        })\r\n        .then(response => {\r\n          console.log(response.data);\r\n          if (onPizzaUpdated) onPizzaUpdated(); // Сбрасываем выбранную пиццу после обновления\r\n        })\r\n        .catch(error => console.error('Error updating pizza:', error));\r\n      } else {\r\n        // Если добавляется новая пицца, выполняем POST-запрос\r\n        axios.post('http://127.0.0.1:5000/pizzas', {\r\n          name: name,\r\n          description: description,\r\n          price: parseFloat(price),\r\n          image_url: imageUrl,\r\n        })\r\n        .then(response => {\r\n          console.log(response.data);\r\n          setName('');\r\n          setDescription('');\r\n          setPrice('');\r\n          setImageUrl('');\r\n        })\r\n        .catch(error => console.error('Error adding pizza:', error));\r\n      }\r\n    };\r\n\r\n\r\n  return (\r\n    <form className=\"pizza-form\" onSubmit={handleSubmit}>\r\n      <h2>{pizza ? 'Изменить Пиццу' : 'Добавить Пиццу'}</h2>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Название пиццы\"\r\n        value={name}\r\n        onChange={(e) => setName(e.target.value)}\r\n        required\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Описание\"\r\n        value={description}\r\n        onChange={(e) => setDescription(e.target.value)}\r\n        required\r\n      />\r\n      <input\r\n        type=\"number\"\r\n        placeholder=\"Цена\"\r\n        value={price}\r\n        onChange={(e) => setPrice(e.target.value)}\r\n        required\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"URL изображения\"\r\n        value={imageUrl}\r\n        onChange={(e) => setImageUrl(e.target.value)}\r\n        required\r\n      />\r\n      <button type=\"submit\">{pizza ? 'Обновить Пиццу' : 'Добавить Пиццу'}</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default PizzaForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}